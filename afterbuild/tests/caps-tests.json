{
    "describe": "CAPABILITIES API",
    "starring": {
        "admin": {
            "robert": {
                "email": "rford@westworld.com",
                "password": "Password_123"
            }
        },
        "actors": {
            "armistice": {
                "email": "armistice@host-westworld.com",
                "firstname": "Armistice",
                "lastname": "Berdal",
                "company": "Westworld Host",
                "password": "Password_123"
            }
        }
    },
    "runBeforeAll": {
        "it": {
            "should": "Log-in with Armistice successfully",
            "by": [
                {
                    "executing": "api:connection.signin", 
                    "injecting": ["usr:armistice.email", "usr:armistice.password"], 
                    "resulting": "account", 
                    "expecting": [{"var:account": "$defined"}],
                    "using": ["armistice"]
                }
            ]
        }
    },   
    "runAfterAll": {
        "it": {
            "should": "Log-out with Armistice successfully",
            "by": [
                {
                    "executing": "api:connection.signout", 
                    "injecting": [], 
                    "resulting": null, 
                    "expecting": [],
                    "using": ["armistice"]
                }
            ]
        }
    }, 
    "run": [
        {
            "it": {
                "should": "Return all the capabilities",
                "by": [
                    {
                        "executing": "api:caps.getAll", 
                        "injecting": [], 
                        "resulting": "capabilities", 
                        "expecting": [{"var:capabilities": "$anObject"}],
                        "using": ["armistice"]
                    }
                ]
            }
        },
        {
            "it": {
                "should": "Return false for the right to use Microsoft Extension",
                "by": [
                    {
                        "executing": "api:caps.hasS4BExtensionEnabled", 
                        "injecting": [], 
                        "resulting": "s4bRight", 
                        "expecting": [{"var:s4bRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasOutlookExtensionEnabled", 
                        "injecting": [], 
                        "resulting": "outlookRight", 
                        "expecting": [{"var:outlookRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasCalendarPresenceEnabled", 
                        "injecting": [], 
                        "resulting": "calendarRight", 
                        "expecting": [{"var:calendarRight": false}],
                        "using": ["armistice"]
                    }
                ]
            }
        },
        {
            "it": {
                "should": "Return false for the right to use Telephony",
                "by": [
                    {
                        "executing": "api:caps.hasTelephonyBasicCallEnabled", 
                        "injecting": [], 
                        "resulting": "basicCallRight", 
                        "expecting": [{"var:basicCallRight": true}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasTelephonySecondCallEnabled", 
                        "injecting": [], 
                        "resulting": "secondCallRight", 
                        "expecting": [{"var:secondCallRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasTelephonyTransferCallEnabled", 
                        "injecting": [], 
                        "resulting": "transferRight", 
                        "expecting": [{"var:transferRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasTelephonyConferenceCallEnabled", 
                        "injecting": [], 
                        "resulting": "conferenceRight", 
                        "expecting": [{"var:conferenceRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasTelephonyDeflectCallEnabled", 
                        "injecting": [], 
                        "resulting": "deflectRight", 
                        "expecting": [{"var:deflectRight": true}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasTelephonyForwardCallEnabled", 
                        "injecting": [], 
                        "resulting": "forwardRight", 
                        "expecting": [{"var:forwardRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasTelephonyPhoneBookEnabled", 
                        "injecting": [], 
                        "resulting": "phonebookRight", 
                        "expecting": [{"var:phonebookRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasTelephonyVoiceMailEnabled", 
                        "injecting": [], 
                        "resulting": "voiceMailRight", 
                        "expecting": [{"var:voiceMailRight": false}],
                        "using": ["armistice"]
                    }
                ]
            }
        },
        {
            "it": {
                "should": "Return false for the right to Webrtc on mobile",
                "by": [
                    {
                        "executing": "api:caps.hasWebRTCAudioMobileEnabled", 
                        "injecting": [], 
                        "resulting": "audioRight", 
                        "expecting": [{"var:audioRight": true}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasWebRTCVideoMobileEnabled", 
                        "injecting": [], 
                        "resulting": "videoRight", 
                        "expecting": [{"var:videoRight": true}],
                        "using": ["armistice"]
                    }
                ]
            }
        },
        {
            "it": {
                "should": "Return false for the right to conference bridge",
                "by": [
                    {
                        "executing": "api:caps.hasBridgeConferenceEnabled", 
                        "injecting": [], 
                        "resulting": "confRight", 
                        "expecting": [{"var:confRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasBridgeConferenceRecordEnabled", 
                        "injecting": [], 
                        "resulting": "recordRight", 
                        "expecting": [{"var:recordRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.hasBridgeConferenceDialOutEnabled", 
                        "injecting": [], 
                        "resulting": "dialoutRight", 
                        "expecting": [{"var:dialoutRight": false}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.maxParticipantsPerBubbleAllowed", 
                        "injecting": [], 
                        "resulting": "maxBubble", 
                        "expecting": [{"var:maxBubble": 20}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.maxParticipantsPerBridgeConferenceAllowed", 
                        "injecting": [], 
                        "resulting": "maxConf", 
                        "expecting": [{"var:maxConf": 0}],
                        "using": ["armistice"]
                    },
                    {
                        "executing": "api:caps.maxFileStorageQuotaAllowed", 
                        "injecting": [], 
                        "resulting": "maxFile", 
                        "expecting": [{"var:maxFile": 1}],
                        "using": ["armistice"]
                    }
                ]
            }
        }
    ]
}